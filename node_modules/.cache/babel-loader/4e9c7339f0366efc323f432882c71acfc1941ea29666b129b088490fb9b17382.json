{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, normalizeClass as _normalizeClass, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"products-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"page-title\"\n}, \"Products\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"category-buttons\"\n};\nconst _hoisted_4 = {\n  class: \"create-button-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_modal_component = _resolveComponent(\"modal-component\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n    onClick: $options.showAllProducts,\n    class: _normalizeClass([{\n      'active-category': $data.selectedCategory === 'all'\n    }, \"category-button\"])\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" All Categories \")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\", \"class\"]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, category => {\n    return _openBlock(), _createBlock(_component_el_button, {\n      key: category.id,\n      onClick: $event => $options.filterProducts(category.id),\n      class: _normalizeClass([{\n        'active-category': $data.selectedCategory === category.id\n      }, \"category-button\"])\n    }, {\n      default: _withCtx(() => [_createTextVNode(_toDisplayString(category.name), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\", \"class\"]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_button, {\n    onClick: _cache[0] || (_cache[0] = $event => $data.showModal = true),\n    type: \"primary\",\n    round: \"\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"Create Product\")]),\n    _: 1 /* STABLE */\n  })]), _createVNode(_component_el_table, {\n    data: $data.filteredProducts,\n    style: {\n      \"width\": \"100%\"\n    }\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"name\",\n      label: \"Name\",\n      width: \"350\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"description\",\n      label: \"Description\",\n      width: \"1050\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"price\",\n      label: \"Price\",\n      width: \"250\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"Actions\",\n      width: \"220\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_button, {\n        onClick: $event => $options.editProduct(scope.row),\n        type: \"warning\",\n        round: \"\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Edit\")]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_button, {\n        onClick: $event => $options.deleteProduct(scope.row.id),\n        type: \"danger\",\n        round: \"\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Delete\")]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"]), _createVNode(_component_modal_component, {\n    \"show-modal\": $data.showModal,\n    \"is-editing\": $data.isEditing,\n    \"product-data\": $data.editingProduct,\n    onCloseModal: $options.closeModal,\n    onCreateProduct: $options.createProduct,\n    onUpdateProduct: $options.updateProduct\n  }, null, 8 /* PROPS */, [\"show-modal\", \"is-editing\", \"product-data\", \"onCloseModal\", \"onCreateProduct\", \"onUpdateProduct\"])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_el_button","onClick","$options","showAllProducts","_normalizeClass","$data","selectedCategory","default","_withCtx","_createTextVNode","_","_Fragment","_renderList","categories","category","_createBlock","key","id","$event","filterProducts","_toDisplayString","name","_hoisted_4","_cache","showModal","type","round","_component_el_table","data","filteredProducts","style","_component_el_table_column","prop","label","width","scope","editProduct","row","deleteProduct","_component_modal_component","isEditing","editingProduct","onCloseModal","closeModal","onCreateProduct","createProduct","onUpdateProduct","updateProduct"],"sources":["C:\\Users\\Merfu\\Desktop\\Vue-Register-Login-Project\\src\\components\\ProductsItem.vue"],"sourcesContent":["<template>\r\n  <div class=\"products-container\">\r\n    <h1 class=\"page-title\">Products</h1>\r\n    \r\n    <div class=\"category-buttons\">\r\n      <el-button\r\n        @click=\"showAllProducts\"\r\n        :class=\"{ 'active-category': selectedCategory === 'all' }\"\r\n        class=\"category-button\"\r\n      >\r\n        All Categories\r\n      </el-button>\r\n      <el-button\r\n        v-for=\"category in categories\"\r\n        :key=\"category.id\"\r\n        @click=\"filterProducts(category.id)\"\r\n        :class=\"{ 'active-category': selectedCategory === category.id }\"\r\n        class=\"category-button\"\r\n      >\r\n        {{ category.name }}\r\n      </el-button>\r\n    </div>\r\n    \r\n    <div class=\"create-button-container\">\r\n      <el-button @click=\"showModal = true\" type=\"primary\" round>Create Product</el-button>\r\n    </div>\r\n    \r\n    <el-table :data=\"filteredProducts\" style=\"width: 100%\">\r\n      <el-table-column prop=\"name\" label=\"Name\" width=\"350\"></el-table-column>\r\n      <el-table-column prop=\"description\" label=\"Description\" width=\"1050\"></el-table-column>\r\n      <el-table-column prop=\"price\" label=\"Price\" width=\"250\"></el-table-column>\r\n      <el-table-column label=\"Actions\" width=\"220\">\r\n        <template #default=\"scope\">\r\n          <el-button @click=\"editProduct(scope.row)\" type=\"warning\" round>Edit</el-button>\r\n          <el-button @click=\"deleteProduct(scope.row.id)\" type=\"danger\" round>Delete</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    \r\n      <modal-component\r\n        :show-modal=\"showModal\"\r\n        :is-editing=\"isEditing\"\r\n        :product-data=\"editingProduct\"\r\n        @close-modal=\"closeModal\"\r\n        @create-product=\"createProduct\"\r\n        @update-product=\"updateProduct\"\r\n      ></modal-component>\r\n    \r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport ModalComponent from './ModalComponent.vue';\r\n\r\n\r\nexport default {\r\n  components: {\r\n    ModalComponent\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      showModal: false,\r\n      isEditing: false,\r\n      editingProduct: {},\r\n      products: [],\r\n      categories: [],\r\n      filteredProducts: [],\r\n      selectedCategory: \"all\", \r\n    };\r\n  }, \r\n\r\n  mounted() {\r\n    this.fetchCategories();\r\n    this.fetchProducts();\r\n  },\r\n\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://localhost:8080/api/categories\"\r\n        );\r\n        this.categories = response.data;\r\n      } catch (error) {\r\n        console.error(\"Error fetching categories:\", error);\r\n      }\r\n    },\r\n\r\n\r\n    filterProducts(categoryId) {\r\n      this.selectedCategory = categoryId; \r\n      if (categoryId === \"all\") {\r\n        this.filteredProducts = this.products;\r\n      } else {\r\n        this.filteredProducts = this.products.filter(\r\n          (product) => product.category_id === categoryId\r\n        );\r\n      }\r\n    },\r\n\r\n    showAllProducts() {\r\n      this.selectedCategory = \"all\"; \r\n      this.filteredProducts = this.products;\r\n    },\r\n\r\n    fetchProducts() {\r\n      axios\r\n        .get(\"http://localhost:8080/api/products\")\r\n        .then((response) => {\r\n          this.products = response.data;\r\n          this.filteredProducts = response.data; \r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error fetching products:\", error);\r\n        });\r\n    },\r\n\r\n    editProduct(product) {\r\n      this.editingProduct = {...product}; \r\n      this.isEditing = true;\r\n      this.showModal = true;\r\n    },\r\n    closeModal() {\r\n      this.showModal = false;\r\n      this.isEditing = false;\r\n      this.editingProduct = null;\r\n    },\r\n\r\n    cancelEdit() {\r\n      this.editingProduct = null;\r\n      this.showEditModal = false;\r\n    },\r\n\r\n    updateProduct(formData) {\r\n      axios\r\n        .put(`http://localhost:8080/api/products/update/${this.editingProduct.id}`, formData)\r\n        .then(() => {\r\n          console.log(\"Product updated successfully\");\r\n          this.fetchProducts();\r\n          this.showModal = false;\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error updating product:\", error);\r\n        }).finally(() => {\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n\r\n    createProduct(formData) {\r\n      axios\r\n        .post(\"http://localhost:8080/api/products/create\", formData)\r\n        .then(() => {\r\n          console.log(\"Product created successfully\");\r\n          this.fetchProducts();\r\n          this.showModal = false;\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error creating product:\", error);\r\n        }).finally(() => {\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n\r\n    deleteProduct(productId) {\r\n      if (confirm(\"Are you sure you want to delete this product?\")) {\r\n        axios\r\n          .delete(`http://localhost:8080/api/products/delete/${productId}`)\r\n          .then(() => {\r\n            this.products = this.products.filter(\r\n              (product) => product.id !== productId\r\n            );\r\n            this.fetchProducts();\r\n            console.log(\"Product deleted successfully\");\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error deleting product:\", error);\r\n          }).finally(() => {\r\n        this.isLoading = false;\r\n      });\r\n      }\r\n    },\r\n  },\r\n};\r\n\r\n</script>\r\n\r\n<style>\r\n.row{\r\n  justify-content: center;\r\n\r\n}\r\n.products-container {\r\n  margin-bottom: 20px;\r\n  border: 1px solid #ddd;\r\n  padding: 15px;\r\n  border-radius: 8px;\r\n  background-color: #f9f9f9;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n}\r\n.product-card{\r\n  margin: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.products-container h2 {\r\n  font-size: 24px;\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n}\r\n\r\n.products-container p {\r\n  font-size: 16px;\r\n  color: #666;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n\r\n.product-container button:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.description {\r\n  margin-top: 20px;\r\n}\r\n\r\n.price {\r\n  margin-top: 20px;\r\n  font-weight: bold;\r\n}\r\n.name{\r\n  margin-top: 10px;\r\n  padding-bottom: 20px;\r\n}\r\n.page-title {\r\n  font-size: 36px;\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n  margin-top: 20px;\r\n  justify-content: space-between;\r\n\r\n}\r\n.category-buttons {\r\n  text-align: center;\r\n}\r\n.category-button:hover {\r\n  background-color: #45a049;\r\n}\r\n.create-button-container {\r\n  text-align: center;\r\n  margin-top: 40px;\r\n  margin-bottom: 20px;\r\n}\r\n.product-container {\r\n  border: 1px solid #ccc;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n.active-category {\r\n  background-color: #ff9800;\r\n}\r\n\r\n.active-category:hover {\r\n  background-color: #f57c00;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}