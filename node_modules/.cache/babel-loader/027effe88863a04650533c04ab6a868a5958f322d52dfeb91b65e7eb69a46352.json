{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      email: \"\",\n      password: \"\",\n      errorMessage: \"\",\n      passwordRequirements: \"\"\n    };\n  },\n  methods: {\n    async register() {\n      this.isLoading = true;\n      const form = new FormData();\n      form.append(\"email\", this.email);\n      form.append(\"password\", this.password);\n      try {\n        const response = await axios.post(\"http://localhost:8080/user/register\", form);\n        console.log(response);\n        this.$router.push('/');\n      } catch (error) {\n        if (error.response.data.messages.email) {\n          this.errorMessage = 'This email is already taken';\n        } else if (error.response.data.messages.password) {\n          this.errorMessage = 'Password must be 8 chars long';\n        } else {\n          this.errorMessage = error.response.data.messages || \"Registration failed\";\n          console.error(\"Registration failed:\", error);\n        }\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","isLoading","email","password","errorMessage","passwordRequirements","methods","register","form","FormData","append","response","post","console","log","$router","push","error","messages"],"sources":["C:\\Users\\Merfu\\Desktop\\Vue-Register-Login-Project\\src\\components\\RegisterItem.vue"],"sourcesContent":["<template>\r\n  <div class=\"register-container\">\r\n        <el-card class=\"register-card\">\r\n          <h2 class=\"register-title\">Register</h2>\r\n          <el-form ref=\"registerForm\" class=\"register-form\" label-position=\"top\">\r\n            <el-form-item prop=\"email\">\r\n              <el-input v-model=\"email\" placeholder=\"Email\" clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"password\">\r\n              <el-input v-model=\"password\" placeholder=\"Password\" show-password clearable></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"register\" class=\"register-button\">Register</el-button>\r\n            </el-form-item>\r\n            <div class=\"error-message\" v-if=\"errorMessage\">{{ errorMessage }}</div>\r\n          </el-form>\r\n        </el-card>\r\n      </div>\r\n    <div v-if=\"isLoading\" class=\"loading-overlay\">\r\n      <div class=\"loading-spinner\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      email: \"\",\r\n      password: \"\",\r\n      errorMessage: \"\",\r\n      passwordRequirements: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async register() {\r\n      this.isLoading = true;\r\n      const form = new FormData();\r\n      form.append(\"email\", this.email);\r\n      form.append(\"password\", this.password);\r\n      try {\r\n        const response = await axios.post(\"http://localhost:8080/user/register\", form);\r\n        console.log(response)\r\n        this.$router.push('/');\r\n      } catch (error) {\r\n        if(error.response.data.messages.email){\r\n          this.errorMessage = 'This email is already taken';\r\n        } else if(error.response.data.messages.password){\r\n          this.errorMessage = 'Password must be 8 chars long';\r\n        } else {\r\n          this.errorMessage = error.response.data.messages || \"Registration failed\";\r\n          console.error(\"Registration failed:\", error);\r\n        }  \r\n      } finally{\r\n        this.isLoading = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.register-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n}\r\n\r\n.register-card {\r\n  width: 400px;\r\n}\r\n\r\n.register-title {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.register-form {\r\n  width: 80%;\r\n  margin: 0 auto;\r\n}\r\n\r\n.register-button {\r\n  width: 100%;\r\n}\r\n.error-message {\r\n  color: red;\r\n}\r\n</style>\r\n"],"mappings":";AAwBA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,KAAK;MAChBC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,EAAE;MAChBC,oBAAoB,EAAE;IACxB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,QAAQA,CAAA,EAAG;MACf,IAAI,CAACN,SAAQ,GAAI,IAAI;MACrB,MAAMO,IAAG,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC3BD,IAAI,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACR,KAAK,CAAC;MAChCM,IAAI,CAACE,MAAM,CAAC,UAAU,EAAE,IAAI,CAACP,QAAQ,CAAC;MACtC,IAAI;QACF,MAAMQ,QAAO,GAAI,MAAMZ,KAAK,CAACa,IAAI,CAAC,qCAAqC,EAAEJ,IAAI,CAAC;QAC9EK,OAAO,CAACC,GAAG,CAACH,QAAQ;QACpB,IAAI,CAACI,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;MACxB,EAAE,OAAOC,KAAK,EAAE;QACd,IAAGA,KAAK,CAACN,QAAQ,CAACX,IAAI,CAACkB,QAAQ,CAAChB,KAAK,EAAC;UACpC,IAAI,CAACE,YAAW,GAAI,6BAA6B;QACnD,OAAO,IAAGa,KAAK,CAACN,QAAQ,CAACX,IAAI,CAACkB,QAAQ,CAACf,QAAQ,EAAC;UAC9C,IAAI,CAACC,YAAW,GAAI,+BAA+B;QACrD,OAAO;UACL,IAAI,CAACA,YAAW,GAAIa,KAAK,CAACN,QAAQ,CAACX,IAAI,CAACkB,QAAO,IAAK,qBAAqB;UACzEL,OAAO,CAACI,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC9C;MACF,UAAS;QACP,IAAI,CAAChB,SAAQ,GAAI,KAAK;MACxB;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}