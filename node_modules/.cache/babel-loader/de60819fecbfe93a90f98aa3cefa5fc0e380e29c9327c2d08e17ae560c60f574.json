{"ast":null,"code":"import axios from \"axios\";\nimport ModalComponent from './ModalComponent.vue';\nexport default {\n  components: {\n    ModalComponent\n  },\n  data() {\n    return {\n      isLoading: false,\n      showModal: false,\n      isEditing: false,\n      editingProduct: {},\n      products: [],\n      categories: [],\n      filteredProducts: [],\n      selectedCategory: \"all\"\n    };\n  },\n  mounted() {\n    this.fetchCategories();\n    this.fetchProducts();\n  },\n  methods: {\n    async fetchCategories() {\n      try {\n        const response = await axios.get(\"http://localhost:8080/api/categories\");\n        this.categories = response.data;\n      } catch (error) {\n        console.error(\"Error fetching categories:\", error);\n      }\n    },\n    filterProducts(categoryId) {\n      this.selectedCategory = categoryId;\n      if (categoryId === \"all\") {\n        this.filteredProducts = this.products;\n      } else {\n        this.filteredProducts = this.products.filter(product => product.category_id === categoryId);\n      }\n    },\n    showAllProducts() {\n      this.selectedCategory = \"all\";\n      this.filteredProducts = this.products;\n    },\n    fetchProducts() {\n      axios.get(\"http://localhost:8080/api/products\").then(response => {\n        this.products = response.data;\n        this.filteredProducts = response.data;\n      }).catch(error => {\n        console.error(\"Error fetching products:\", error);\n      });\n    },\n    editProduct(product) {\n      this.editingProduct = {\n        ...product\n      };\n      this.isEditing = true;\n      this.showModal = true;\n    },\n    closeModal() {\n      this.showModal = false;\n      this.isEditing = false;\n      this.editingProduct = null;\n    },\n    cancelEdit() {\n      this.editingProduct = null;\n      this.showEditModal = false;\n    },\n    updateProduct(formData) {\n      axios.put(`http://localhost:8080/api/products/update/${this.editingProduct.id}`, formData).then(() => {\n        console.log(\"Product updated successfully\");\n        this.fetchProducts();\n        this.showModal = false;\n      }).catch(error => {\n        console.error(\"Error updating product:\", error);\n      }).finally(() => {\n        this.isLoading = false;\n      });\n    },\n    createProduct(formData) {\n      axios.post(\"http://localhost:8080/api/products/create\", formData).then(() => {\n        console.log(\"Product created successfully\");\n        this.fetchProducts();\n        this.showModal = false;\n      }).catch(error => {\n        console.error(\"Error creating product:\", error);\n      }).finally(() => {\n        this.isLoading = false;\n      });\n    },\n    deleteProduct(productId) {\n      if (confirm(\"Are you sure you want to delete this product?\")) {\n        axios.delete(`http://localhost:8080/api/products/delete/${productId}`).then(() => {\n          this.products = this.products.filter(product => product.id !== productId);\n          this.fetchProducts();\n          console.log(\"Product deleted successfully\");\n        }).catch(error => {\n          console.error(\"Error deleting product:\", error);\n        }).finally(() => {\n          this.isLoading = false;\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","ModalComponent","components","data","isLoading","showModal","isEditing","editingProduct","products","categories","filteredProducts","selectedCategory","mounted","fetchCategories","fetchProducts","methods","response","get","error","console","filterProducts","categoryId","filter","product","category_id","showAllProducts","then","catch","editProduct","closeModal","cancelEdit","showEditModal","updateProduct","formData","put","id","log","finally","createProduct","post","deleteProduct","productId","confirm","delete"],"sources":["C:\\Users\\Merfu\\Desktop\\Vue-Register-Login-Project\\src\\components\\ProductsItem.vue"],"sourcesContent":["<template>\r\n  <div class=\"products-container\">\r\n    <h1 class=\"page-title\">Products</h1>\r\n    \r\n    <div class=\"category-buttons\">\r\n      <el-button\r\n        @click=\"showAllProducts\"\r\n        :class=\"{ 'active-category': selectedCategory === 'all' }\"\r\n        class=\"category-button\"\r\n      >\r\n        All Categories\r\n      </el-button>\r\n      <el-button\r\n        v-for=\"category in categories\"\r\n        :key=\"category.id\"\r\n        @click=\"filterProducts(category.id)\"\r\n        :class=\"{ 'active-category': selectedCategory === category.id }\"\r\n        class=\"category-button\"\r\n      >\r\n        {{ category.name }}\r\n      </el-button>\r\n    </div>\r\n    \r\n    <div class=\"create-button-container\">\r\n      <el-button @click=\"showModal = true\" type=\"primary\" round>Create Product</el-button>\r\n    </div>\r\n    \r\n    <el-table :data=\"filteredProducts\" style=\"width: 100%\">\r\n      <el-table-column prop=\"name\" label=\"Name\" width=\"350\"></el-table-column>\r\n      <el-table-column prop=\"description\" label=\"Description\" width=\"1050\"></el-table-column>\r\n      <el-table-column prop=\"price\" label=\"Price\" width=\"250\"></el-table-column>\r\n      <el-table-column label=\"Actions\" width=\"220\">\r\n        <template #default=\"scope\">\r\n          <el-button @click=\"editProduct(scope.row)\" type=\"warning\" round>Edit</el-button>\r\n          <el-button @click=\"deleteProduct(scope.row.id)\" type=\"danger\" round>Delete</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    \r\n      <modal-component\r\n        :show-modal=\"showModal\"\r\n        :is-editing=\"isEditing\"\r\n        :product-data=\"editingProduct\"\r\n        @close-modal=\"closeModal\"\r\n        @create-product=\"createProduct\"\r\n        @update-product=\"updateProduct\"\r\n      ></modal-component>\r\n    \r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport ModalComponent from './ModalComponent.vue';\r\n\r\n\r\nexport default {\r\n  components: {\r\n    ModalComponent\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      showModal: false,\r\n      isEditing: false,\r\n      editingProduct: {},\r\n      products: [],\r\n      categories: [],\r\n      filteredProducts: [],\r\n      selectedCategory: \"all\", \r\n    };\r\n  }, \r\n\r\n  mounted() {\r\n    this.fetchCategories();\r\n    this.fetchProducts();\r\n  },\r\n\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://localhost:8080/api/categories\"\r\n        );\r\n        this.categories = response.data;\r\n      } catch (error) {\r\n        console.error(\"Error fetching categories:\", error);\r\n      }\r\n    },\r\n\r\n\r\n    filterProducts(categoryId) {\r\n      this.selectedCategory = categoryId; \r\n      if (categoryId === \"all\") {\r\n        this.filteredProducts = this.products;\r\n      } else {\r\n        this.filteredProducts = this.products.filter(\r\n          (product) => product.category_id === categoryId\r\n        );\r\n      }\r\n    },\r\n\r\n    showAllProducts() {\r\n      this.selectedCategory = \"all\"; \r\n      this.filteredProducts = this.products;\r\n    },\r\n\r\n    fetchProducts() {\r\n      axios\r\n        .get(\"http://localhost:8080/api/products\")\r\n        .then((response) => {\r\n          this.products = response.data;\r\n          this.filteredProducts = response.data; \r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error fetching products:\", error);\r\n        });\r\n    },\r\n\r\n    editProduct(product) {\r\n      this.editingProduct = {...product}; \r\n      this.isEditing = true;\r\n      this.showModal = true;\r\n    },\r\n    closeModal() {\r\n      this.showModal = false;\r\n      this.isEditing = false;\r\n      this.editingProduct = null;\r\n    },\r\n\r\n    cancelEdit() {\r\n      this.editingProduct = null;\r\n      this.showEditModal = false;\r\n    },\r\n\r\n    updateProduct(formData) {\r\n      axios\r\n        .put(`http://localhost:8080/api/products/update/${this.editingProduct.id}`, formData)\r\n        .then(() => {\r\n          console.log(\"Product updated successfully\");\r\n          this.fetchProducts();\r\n          this.showModal = false;\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error updating product:\", error);\r\n        }).finally(() => {\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n\r\n    createProduct(formData) {\r\n      axios\r\n        .post(\"http://localhost:8080/api/products/create\", formData)\r\n        .then(() => {\r\n          console.log(\"Product created successfully\");\r\n          this.fetchProducts();\r\n          this.showModal = false;\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error creating product:\", error);\r\n        }).finally(() => {\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n\r\n    deleteProduct(productId) {\r\n      if (confirm(\"Are you sure you want to delete this product?\")) {\r\n        axios\r\n          .delete(`http://localhost:8080/api/products/delete/${productId}`)\r\n          .then(() => {\r\n            this.products = this.products.filter(\r\n              (product) => product.id !== productId\r\n            );\r\n            this.fetchProducts();\r\n            console.log(\"Product deleted successfully\");\r\n          })\r\n          .catch((error) => {\r\n            console.error(\"Error deleting product:\", error);\r\n          }).finally(() => {\r\n        this.isLoading = false;\r\n      });\r\n      }\r\n    },\r\n  },\r\n};\r\n\r\n</script>\r\n\r\n<style>\r\n.row{\r\n  justify-content: center;\r\n\r\n}\r\n.products-container {\r\n  margin-bottom: 20px;\r\n  border: 1px solid #ddd;\r\n  padding: 15px;\r\n  border-radius: 8px;\r\n  background-color: #f9f9f9;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n}\r\n.product-card{\r\n  margin: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.products-container h2 {\r\n  font-size: 24px;\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n}\r\n\r\n.products-container p {\r\n  font-size: 16px;\r\n  color: #666;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n\r\n.product-container button:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.description {\r\n  margin-top: 20px;\r\n}\r\n\r\n.price {\r\n  margin-top: 20px;\r\n  font-weight: bold;\r\n}\r\n.name{\r\n  margin-top: 10px;\r\n  padding-bottom: 20px;\r\n}\r\n.page-title {\r\n  font-size: 36px;\r\n  text-align: center;\r\n  margin-bottom: 40px;\r\n  margin-top: 20px;\r\n  justify-content: space-between;\r\n\r\n}\r\n.category-buttons {\r\n  text-align: center;\r\n}\r\n.category-button:hover {\r\n  background-color: #45a049;\r\n}\r\n.create-button-container {\r\n  text-align: center;\r\n  margin-top: 40px;\r\n  margin-bottom: 20px;\r\n}\r\n.product-container {\r\n  border: 1px solid #ccc;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n}\r\n.active-category {\r\n  background-color: #ff9800;\r\n}\r\n\r\n.active-category:hover {\r\n  background-color: #f57c00;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}